@model IEnumerable<Shopping_Cart_Assignment.Models.CartReference>

@{
    ViewBag.Title = "ViewCart";
}

<h2>Cart</h2>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="//cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.2/css/jquery.dataTables.min.css">
<script src="https://kit.fontawesome.com/a85db1fd74.js" crossorigin="anonymous"></script>
<table class="container table" id="cart-table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.ProductName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductPrice)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductDescription)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductRating)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductImage)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductQuantity)
            </th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductPrice)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductDescription)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductRating)
                </td>
                <td>
                    <img src="@item.ProductImage" style="width: 350px" class="card-img-top img-fluid" alt="Card image cap">
                </td>
                <td>
                    @*@Html.ActionLink("< i class=\"fa-solid fa-minus\"></i>", "Minus", new { @item.ProductRefId }, new { @class = "btn btn-primary" })*@
                    <a class="btn btn-primary" href="@Url.Action("Minus", "Customer", new {pId=item.ProductRefId, cId=item.CartDRefId})"><i class="fa-solid fa-minus"></i></a>
                    @Html.DisplayFor(modelItem => item.ProductQuantity)
                    @*@Html.ActionLink("<i class=\"fa-solid fa-plus\"></i>", "Plus", new { @item.ProductRefId }, new { @class = "btn btn-primary" })*@
                    <a class="btn btn-primary" href="@Url.Action("Plus", "Customer", new {pId=item.ProductRefId, cId=item.CartDRefId})"><i class="fa-solid fa-plus"></i></a>
                </td>
            </tr>
        }
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td><strong>Total Price: </strong></td>
            <td><strong>@ViewBag.TotalPrice</strong></td>
            <td></td>
            <td></td>
            <td><strong>Total Quantity: </strong></td>
            <td><strong>@ViewBag.TotalQuantity</strong></td>
        </tr>
    </tbody>

</table>

<div class="container">
    <a style="float:inline-end" href="@Url.Action("CheckOut", "Customer")" class="btn btn-primary">Check Out</a>
</div>

<script>
    $("#cart-table").DataTable();
    
</script>